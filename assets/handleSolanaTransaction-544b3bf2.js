import{c_ as s,dV as l}from"./index-bcff472a.js";import{T as c}from"./CryptoWalletConnectionHandler-27a5c770.js";import"./index-a49e5787.js";import"./clsx.m-d18abd7c.js";import"./isAddressEqual-d46d2d91.js";import"./index-b118e166.js";function C(d){return s(this,arguments,function*({primaryWallet:o,serializedTransaction:a,iframeClient:e}){let{connector:i}=o,n;try{n=yield i.getSigner()}catch(r){console.error("[CryptoWalletConnectionHandler] failed to get signer",r),e.send("crypto:send-transaction:failed",{error:"Failed to get signer"});return}let t;try{t=c.from(l.decode(a))}catch(r){console.error("[CryptoWalletConnectionHandler] failed to deserialize transaction",r),e.send("crypto:send-transaction:failed",{error:"Failed to deserialize transaction"});return}try{let{signature:r}=yield n.signAndSendTransaction(t);console.log("[CryptoWalletConnectionHandler] txId",r),e.send("crypto:send-transaction:success",{txId:r})}catch(r){console.error("[CryptoWalletConnectionHandler] failed to send transaction",r),e.send("crypto:send-transaction:failed",{error:r.message})}})}export{C as handleSolanaTransaction};
